{"ast":null,"code":"import _regeneratorRuntime from \"/home/server/Escritorio/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nvar _jsxFileName = \"/home/server/Escritorio/frontend/src/componets/pages/admin.js\";\nimport React, { useState } from \"react\";\nimport { useAuth } from \"../commons/auth/auth-context\";\nimport { getService, rechazarsolicitud, aceptarsolicicitud } from \"../axios/adminServices\";\n\nfunction Admin() {\n  var _useAuth = useAuth(),\n      token = _useAuth.token;\n\n  var login = document.getElementById('login');\n\n  if (login != null) {\n    login.innerHTML = \"\";\n    login.parentNode.removeChild(login);\n    solicitudes(token);\n  }\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"Admin Page\"), React.createElement(\"fieldset\", {\n    id: \"solicitudes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), React.createElement(\"fieldset\", {\n    id: \"action\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, Rechazar(token)));\n}\n\nexport { Admin };\n\nfunction solicitudes(token) {\n  var response, services, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, service, output;\n\n  return _regeneratorRuntime.async(function solicitudes$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(getService(token));\n\n        case 2:\n          response = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(response.data);\n\n        case 5:\n          services = _context.sent;\n          document.getElementById(\"solicitudes\").innerHTML = \"\";\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context.prev = 10;\n\n          for (_iterator = services[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            service = _step.value;\n            output = \"<fieldset>\\n     <label>Solicitud:\".concat(service.id, \"</label>\\n     <p>\").concat(service.content, \"</p>\\n     </fieldset>\");\n            console.log(service);\n            document.getElementById(\"solicitudes\").innerHTML = output + document.getElementById(\"solicitudes\").innerHTML;\n          }\n\n          _context.next = 18;\n          break;\n\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](10);\n          _didIteratorError = true;\n          _iteratorError = _context.t0;\n\n        case 18:\n          _context.prev = 18;\n          _context.prev = 19;\n\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n\n        case 21:\n          _context.prev = 21;\n\n          if (!_didIteratorError) {\n            _context.next = 24;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 24:\n          return _context.finish(21);\n\n        case 25:\n          return _context.finish(18);\n\n        case 26:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[10, 14, 18, 26], [19,, 21, 25]]);\n}\n\nfunction Rechazar(token) {\n  function Optiones(token) {\n    var response, services, out, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, service, _out;\n\n    return _regeneratorRuntime.async(function Optiones$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(getService(token));\n\n          case 2:\n            response = _context2.sent;\n            services = response.data;\n            document.getElementById(\"services\").innerHTML = \"\";\n            out = \"\";\n            _iteratorNormalCompletion2 = true;\n            _didIteratorError2 = false;\n            _iteratorError2 = undefined;\n            _context2.prev = 9;\n\n            for (_iterator2 = services[Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              service = _step2.value;\n              _out = \"<option value=\\\"\".concat(service.id, \"\\\">\").concat(service.id, \"</option>\");\n              document.getElementById(\"services\").innerHTML = _out + document.getElementById(\"services\").innerHTML;\n            }\n\n            _context2.next = 17;\n            break;\n\n          case 13:\n            _context2.prev = 13;\n            _context2.t0 = _context2[\"catch\"](9);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context2.t0;\n\n          case 17:\n            _context2.prev = 17;\n            _context2.prev = 18;\n\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n\n          case 20:\n            _context2.prev = 20;\n\n            if (!_didIteratorError2) {\n              _context2.next = 23;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 23:\n            return _context2.finish(20);\n\n          case 24:\n            return _context2.finish(17);\n\n          case 25:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[9, 13, 17, 25], [18,, 20, 24]]);\n  }\n\n  function cancel(token) {\n    var id;\n    return _regeneratorRuntime.async(function cancel$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            console.log(\"cancel\");\n\n            if (!(document.getElementById(\"services\") != null)) {\n              _context3.next = 14;\n              break;\n            }\n\n            id = document.getElementById(\"services\").value;\n            _context3.prev = 3;\n            _context3.next = 6;\n            return _regeneratorRuntime.awrap(rechazarsolicitud(token, id));\n\n          case 6:\n            window.alert(\"Solicitud rechazada\");\n            solicitudes(token);\n            Optiones(token);\n            _context3.next = 14;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t0 = _context3[\"catch\"](3);\n            window.alert(\"Algo a ido mal intentelo de nuevo\");\n\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[3, 11]]);\n  }\n\n  function agree(token) {\n    var id;\n    return _regeneratorRuntime.async(function agree$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            console.log(\"cancel\");\n\n            if (!(document.getElementById(\"services\") != null)) {\n              _context4.next = 14;\n              break;\n            }\n\n            id = document.getElementById(\"services\").value;\n            _context4.prev = 3;\n            _context4.next = 6;\n            return _regeneratorRuntime.awrap(aceptarsolicicitud(token, id));\n\n          case 6:\n            window.alert(\"Solicitud aceptada\");\n            solicitudes(token);\n            Optiones(token);\n            _context4.next = 14;\n            break;\n\n          case 11:\n            _context4.prev = 11;\n            _context4.t0 = _context4[\"catch\"](3);\n            window.alert(\"Algo a ido mal intentelo de nuevo\");\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[3, 11]]);\n  }\n\n  Optiones(token);\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Mis polizas:\"), React.createElement(\"select\", {\n    id: \"services\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    id: \"cancel\",\n    onClick: function onClick() {\n      return cancel(token);\n    },\n    className: \"danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Rechazar\"), React.createElement(\"button\", {\n    id: \"agree\",\n    onClick: function onClick() {\n      return agree(token);\n    },\n    className: \"agree\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Aceptar\"));\n}","map":{"version":3,"sources":["/home/server/Escritorio/frontend/src/componets/pages/admin.js"],"names":["React","useState","useAuth","getService","rechazarsolicitud","aceptarsolicicitud","Admin","token","login","document","getElementById","innerHTML","parentNode","removeChild","solicitudes","Rechazar","response","data","services","service","output","id","content","console","log","Optiones","out","cancel","value","window","alert","agree"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\r\nimport { useAuth } from \"../commons/auth/auth-context\";\r\nimport {getService,rechazarsolicitud,aceptarsolicicitud } from \"../axios/adminServices\"\r\nfunction Admin() {\r\n\r\n  const {token} = useAuth();\r\n \r\n\r\n\r\n  \r\n  let login = document.getElementById('login');\r\n if(login!=null){\r\n  login.innerHTML=\"\"  \r\n  login.parentNode.removeChild(login);\r\n\r\n \r\n\r\n  solicitudes(token)\r\n}\r\n return(\r\n <React.Fragment>\r\n <h1>Admin Page</h1>\r\n <fieldset id=\"solicitudes\">\r\n     \r\n </fieldset>\r\n <fieldset id=\"action\">\r\n {Rechazar(token)}\r\n </fieldset>\r\n </React.Fragment>)\r\n}\r\nexport {Admin};\r\n\r\nasync function solicitudes(token){\r\n    let response = await getService(token)\r\n   let services = await response.data;\r\n   document.getElementById(\"solicitudes\").innerHTML= \"\";\r\n\r\n   for (const service of services) {\r\n     let output = `<fieldset>\r\n     <label>Solicitud:${service.id}</label>\r\n     <p>${service.content}</p>\r\n     </fieldset>`\r\n     console.log(service)\r\n   document.getElementById(\"solicitudes\").innerHTML= output + document.getElementById(\"solicitudes\").innerHTML;\r\n   }\r\n   }\r\n\r\n   function Rechazar(token){\r\n   \r\n    async function Optiones(token){\r\n    let response = await  getService(token)\r\n    let services = response.data;\r\n    document.getElementById(\"services\").innerHTML=\"\"\r\n    let out=\"\"\r\n    for (const service of services) {\r\n      let out=`<option value=\"${service.id}\">${service.id}</option>`;\r\n  document.getElementById(\"services\").innerHTML= out +   document.getElementById(\"services\").innerHTML;\r\n      \r\n    }\r\n  }\r\n    async function cancel(token){\r\n      console.log(\"cancel\");\r\nif(document.getElementById(\"services\")!=null){\r\n      let id= document.getElementById(\"services\").value\r\n     try{\r\n      await rechazarsolicitud(token,id);\r\n      window.alert(\"Solicitud rechazada\");\r\n      solicitudes(token)\r\n      Optiones(token)\r\n     }catch{\r\n      window.alert(\"Algo a ido mal intentelo de nuevo\");\r\n     }\r\n    }}\r\n    async function agree(token){\r\n      console.log(\"cancel\");\r\nif(document.getElementById(\"services\")!=null){\r\n      let id= document.getElementById(\"services\").value\r\n     try{\r\n      await aceptarsolicicitud(token,id);\r\n      window.alert(\"Solicitud aceptada\");\r\n      solicitudes(token)\r\n      Optiones(token)\r\n     }catch{\r\n      window.alert(\"Algo a ido mal intentelo de nuevo\");\r\n     }\r\n    }}\r\n    \r\n    \r\n  \r\n  Optiones(token)\r\nreturn(\r\n  <span> \r\n  \r\n  <label>Mis polizas:</label>\r\n  <select id=\"services\">\r\n  \r\n  </select>\r\n  <button id=\"cancel\" onClick={()=>cancel(token)} className=\"danger\">Rechazar</button> \r\n  <button id=\"agree\" onClick={()=>agree(token)} className=\"agree\">Aceptar</button> \r\n\r\n  </span>\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n "]},"metadata":{},"sourceType":"module"}