{"ast":null,"code":"import _slicedToArray from \"/home/server/Escritorio/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/server/Escritorio/frontend/src/componets/commons/header.js\";\nimport React, { componets, useState } from \"react\";\nimport { useAuth } from \"../commons/auth/auth-context\";\nimport { useForm } from \"react-hook-form\";\nimport { LOGEARSE_VALIDATIONS } from \"../commons/auth/validation\";\n\nfunction Header() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFormOpen = _useState2[0],\n      setIsFormOpen = _useState2[1];\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, \"Inicio \"), React.createElement(\"a\", {\n    href: \"/consultar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, \"Consultar \"), React.createElement(\"a\", {\n    href: \"/registrarse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Registrarse\"), React.createElement(\"a\", {\n    href: \"/contacto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, \"Contacto\"), React.createElement(\"a\", {\n    onClick: function onClick() {\n      return setIsFormOpen(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Log in\"), isFormOpen && Login(setIsFormOpen)));\n}\n\nfunction Login(setIsFormOpen) {\n  var _useAuth = useAuth(),\n      signIN = _useAuth.signIN;\n\n  var _useForm = useForm({\n    mode: \"onBlur\" // Lanza validaciones cada vez que hago blur\n\n  }),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      formState = _useForm.formState,\n      handleSubmit = _useForm.handleSubmit,\n      setError = _useForm.setError;\n\n  var handleSignUp = function handleSignUp(formData) {\n    return signIN(formData).catch(function (error) {\n      if (error.response.status === 409) {\n        setError(\"email\", \"conflict\", \"The email already exists. Please try again\");\n      }\n    });\n  };\n\n  return React.createElement(\"span\", {\n    id: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"close\",\n    onClick: function onClick() {\n      return setIsFormOpen(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"X\"), React.createElement(\"form\", {\n    action: \"\",\n    method: \"post\",\n    onSubmit: handleSubmit(handleSignUp),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    ref: register(LOGEARSE_VALIDATIONS.email),\n    name: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, errors.name && errors.name.message), React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Contrase\\xF1a\"), React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    ref: register(LOGEARSE_VALIDATIONS.PASSWORD),\n    name: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, errors.name && errors.name.message), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn\",\n    disabled: formState.isSubmitting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Entrar\")))));\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/server/Escritorio/frontend/src/componets/commons/header.js"],"names":["React","componets","useState","useAuth","useForm","LOGEARSE_VALIDATIONS","Header","isFormOpen","setIsFormOpen","Login","signIN","mode","register","errors","formState","handleSubmit","setError","handleSignUp","formData","catch","error","response","status","email","name","message","PASSWORD","isSubmitting"],"mappings":"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","sourcesContent":["import React, { componets, useState } from \"react\";\r\nimport { useAuth } from \"../commons/auth/auth-context\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport { LOGEARSE_VALIDATIONS } from \"../commons/auth/validation\";\r\n\r\nfunction Header() {\r\n  \r\n  \r\n  const [isFormOpen, setIsFormOpen] = useState(false);\r\n  \r\n  \r\n  return (\r\n    <React.Fragment>\r\n    <nav>\r\n      <a href=\"/\">Inicio </a>\r\n      <a href=\"/consultar\">Consultar </a>\r\n      <a href=\"/registrarse\">Registrarse</a>\r\n      <a href=\"/contacto\">Contacto</a>\r\n      <a onClick={() => setIsFormOpen(true)}>Log in</a>\r\n      {isFormOpen && Login(setIsFormOpen)}\r\n    </nav>\r\n    </React.Fragment>\r\n  );\r\n}\r\nfunction Login(setIsFormOpen) {\r\n  const { signIN } = useAuth();\r\n  const { register, errors, formState, handleSubmit, setError } = useForm({\r\n    mode: \"onBlur\" // Lanza validaciones cada vez que hago blur\r\n  });\r\n  \r\n  const handleSignUp = formData => {\r\n    return signIN(formData).catch(error => {\r\n          if (error.response.status === 409) {\r\n            setError(\r\n              \"email\",\r\n              \"conflict\",\r\n              \"The email already exists. Please try again\"\r\n            );\r\n          }\r\n        });\r\n      };\r\n  \r\n  return (\r\n<span id=\"login\">  \r\n<div>\r\n<button className=\"close\" onClick={() => setIsFormOpen(false)}>X</button>\r\n<form action=\"\" method=\"post\" onSubmit={handleSubmit(handleSignUp)}>\r\n  <fieldset>\r\n    <label htmlFor=\"email\">Email</label>\r\n    <input type=\"text\" id=\"email\"\r\n    ref={register(LOGEARSE_VALIDATIONS.email)}\r\n     name=\"email\" />\r\n     <span className=\"errorMessage\">\r\n        {errors.name && errors.name.message}\r\n      </span>\r\n    <label htmlFor=\"password\">Contrase√±a</label>\r\n    <input type=\"password\" id=\"password\"\r\n    ref={register(LOGEARSE_VALIDATIONS.PASSWORD)}\r\n    name=\"password\" />\r\n    <span className=\"errorMessage\">\r\n        {errors.name && errors.name.message}\r\n      </span>\r\n    <button type=\"submit\"\r\n        className=\"btn\"\r\n        disabled={formState.isSubmitting}>\r\n    Entrar</button>\r\n  </fieldset>\r\n</form>\r\n</div>\r\n</span>\r\n);\r\n}\r\n    \r\n    \r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}